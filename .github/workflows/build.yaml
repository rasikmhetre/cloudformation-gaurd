name: Check CloudFormation Templates with CFN Guard

on: 
  pull_request:
    branches:
      - main
    types: [opened, synchronize, reopened]

jobs:
  guard:
    runs-on: ubuntu-latest
    permissions:
      # only required when create-review is true
      pull-requests: write
      # only required for workflows in private repositories
      contents: read
      
    name: CloudFormation Guard validate
    steps:
      - name: checkout
        uses: actions/checkout@v3
        
      - name: CloudFormation Guard validate
        uses: aws-cloudformation/cloudformation-guard@action-v0.0.5
        with:
          rules: './'
          data: './'

      - name: run ls
        run: ls 
      


            
